function login(e,t,a,n,o){this.id=e,this.username=t,this.password=a,this.points=n,this.darkmode=o}function preferredMode(e){this.darkmode=e}function darkMode(){var e=document.getElementsByTagName("HEAD")[0],t=document.createElement("link");t.rel="stylesheet",t.type="text/css",t.href="css/about-dark.css",e.appendChild(t)}function lightMode(){var e=document.getElementsByTagName("HEAD")[0],t=document.createElement("link");t.rel="stylesheet",t.type="text/css",t.href="css/about-light.css",e.appendChild(t)}function GetSortOrder(e){return function(t,a){return t[e]>a[e]?1:t[e]<a[e]?-1:0}}$(document).ready(function(){$(".app").hide();var e=JSON.parse(localStorage.getItem("login")),t=JSON.parse(localStorage.getItem("preferredMode"));0==t[0].darkmode?$("#logo").attr("src","images/logo_transparent.png"):$("#logo").attr("src","images/logo_white_bg.png");let a={async:!0,crossDomain:!0,url:"https://idassignment3-e0c6.restdb.io/rest/userdata",method:"GET",headers:{"content-type":"application/json","x-apikey":"600e2fe91346a1524ff12dbd","cache-control":"no-cache"}};$.ajax(a).done(function(e){e.sort(GetSortOrder("points")),$("#leaderboard-msg").append("There are "+e.length+" people enrolling in this journey with you!"),$("#leaderboard-name-1").append(e[e.length-1].username),$("#leaderboard-name-2").append(e[e.length-2].username),$("#leaderboard-name-3").append(e[e.length-3].username),$("#leaderboard-points-1").append(e[e.length-1].points),$("#leaderboard-points-2").append(e[e.length-2].points),$("#leaderboard-points-3").append(e[e.length-3].points)}),1==e[0].darkmode?($(".app").show(),1==t[0].darkmode?darkMode():lightMode(),$(".app").click(function(){1==t[0].darkmode?(t[0].darkmode=!1,lightMode(),$("#logo").attr("src","images/logo_transparent.png")):(t[0].darkmode=!0,darkMode(),$("#logo").attr("src","images/logo_white_bg.png"));let e=new preferredMode(t[0].darkmode);(t=[]).push(e),localStorage.preferredMode=JSON.stringify(t)})):(t[0].darkmode=!1,lightMode());var n=e[0].points;$("<div/>",{id:"points",text:n+" points"}).appendTo("#points"),e[0].points>30&&0==e[0].darkmode&&($("<p/>",{id:"paragraph",text:"Dark mode unlocked!"}).appendTo(".header"),$("<a/>",{id:"darkmode-link",href:"#",text:"click here to activate"}).appendTo("#paragraph")),$("#darkmode-link").click(function(t){$(".app").show(),$("#paragraph").hide(),$("#darkmode-link").hide(),e[e.length-1].darkmode=!0,e[e.length-1].points=e[e.length-1].points-30;var a=e[e.length-1].id,n={username:e[e.length-1].username,password:e[e.length-1].password,points:e[e.length-1].points,darkmode:e[e.length-1].darkmode},o={async:!0,crossDomain:!0,url:"https://idassignment3-e0c6.restdb.io/rest/userdata/"+a,method:"PUT",headers:{"content-type":"application/json","x-apikey":"600e2fe91346a1524ff12dbd","cache-control":"no-cache"},processData:!1,data:JSON.stringify(n)};$.ajax(o).done(function(t){let a=new login(e[e.length-1].id,e[e.length-1].username,e[e.length-1].password,e[e.length-1].points,e[e.length-1].darkmode);(e=[]).push(a),localStorage.login=JSON.stringify(e)})})});